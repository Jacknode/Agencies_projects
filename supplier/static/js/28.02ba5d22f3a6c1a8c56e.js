webpackJsonp([28],{CvXx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("NYxO"),o={computed:Object(s.b)(["foodStoreInformtionList","numberOfMealsList","storefrontTypeList","foodProcinceList","foodCityList"]),data:function(){return{userInfo:{},total:0,addDialog:!1,addOptions:{fd_sf_TypeID:"",fd_sf_MansID:"",fd_sf_ProductName:"",fd_sf_Address:"",fd_sf_Lng:"",fd_sf_Lat:"",fd_sf_Provice:"",fd_sf_City:"",fd_sf_AvgPrice:"",fd_sf_OpenTime:"",fd_sf_Phone:"",fd_sf_HasWafi:"",fd_sf_TradeID:""},formLabelWidth:"120px",updateDialog:!1,isWifi:[{value:0,label:"无"},{value:1,label:"有"}],proviceId:"",roomName:"",updateObj:{}}},methods:{handleCurrentChange:function(e){this.initData("",e)},initProvince:function(){this.$store.dispatch("initFoodProcince",{areaPid:3337})},changeCity:function(e){this.proviceId=this.foodProcinceList.filter(function(t){return t.sm_af_AreaName==e})[0].sm_af_AreaID;var t={areaPid:this.proviceId};this.$store.dispatch("initFoodCity",t)},initData:function(e,t){var a=this,s={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",fd_sf_ID:"",fd_sf_TypeID:"",fd_sf_MansID:"",fd_sf_ProductName:e||"",fd_sf_Provice:"",fd_sf_City:"",priceFrom:"",priceTo:"",fd_sf_Phone:"",fd_sf_TradeID:this.userInfo.sm_ai_ID,page:t||1,rows:"5"};this.$store.dispatch("initFoodStoreInformtion",s).then(function(e){a.total=e},function(e){a.$notify({message:e,type:"error"})})},search:function(){this.initData(this.roomName,1)},add:function(){this.$store.commit("setTranstionFalse"),this.addDialog=!0,this.addOptions.fd_sf_TradeID=this.userInfo.sm_ai_ID},addSubmit:function(){var e=this,t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:this.addOptions};this.$store.dispatch("addFoodStoreInformation",t).then(function(t){e.$notify({message:t,type:"success"}),e.initData()},function(t){e.$notify({message:t,type:"error"})}),this.addDialog=!1},update:function(e){console.log(e),this.updateObj=e,this.$store.commit("setTranstionFalse"),this.updateDialog=!0,this.updateObj.fd_sf_HasWafi=""},updateSubmit:function(){var e=this,t={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{fd_sf_ID:this.updateObj.fd_sf_ID,fd_sf_TypeID:this.updateObj.fd_sf_TypeID,fd_sf_MansID:this.updateObj.fd_sf_MansID,fd_sf_ProductName:this.updateObj.fd_sf_ProductName,fd_sf_Address:this.updateObj.fd_sf_Address,fd_sf_Lng:this.updateObj.fd_sf_Lng,fd_sf_Lat:this.updateObj.fd_sf_Lat,fd_sf_Provice:this.updateObj.fd_sf_Provice,fd_sf_City:this.updateObj.fd_sf_City,fd_sf_AvgPrice:this.updateObj.fd_sf_AvgPrice,fd_sf_OpenTime:this.updateObj.fd_sf_OpenTime,fd_sf_Phone:this.updateObj.fd_sf_Phone,fd_sf_HasWafi:this.updateObj.fd_sf_HasWafi,fd_sf_TradeID:this.updateObj.fd_sf_TradeID}};this.$store.dispatch("updateFoodStoreInformtionSubmit",t).then(function(t){e.$notify({message:t,type:"success"}),e.initData()},function(t){e.$notify({message:t,type:"error"})}),this.updateDialog=!1},Delete:function(e){var t=this,a={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{fd_sf_ID:e}};this.$store.dispatch("deleteFoodStoreInformtion",a).then(function(e){t.$notify({message:e,type:"success"}),t.initData()},function(e){t.$notify({message:e,type:"error"})})},recommendShop:function(e){var t=this,a={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{fd_is_ShopID:e||""}};this.$store.dispatch("recommendShopSubmit",a).then(function(e){t.$notify({message:e,type:"success"}),t.initData()},function(e){t.$notify({message:e,type:"error"})})}},created:function(){this.userInfo=JSON.parse(sessionStorage.getItem("admin")),this.initData(),this.initProvince()}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"clearfix",attrs:{id:"wrap"}},[a("h1",{staticClass:"userClass"},[e._v("店面信息")]),e._v(" "),a("el-col",{staticClass:"formSearch",attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("span",[e._v("店面名称筛选:")])]),e._v(" "),a("el-form-item",[a("el-input",{model:{value:e.roomName,callback:function(t){e.roomName=t},expression:"roomName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.foodStoreInformtionList}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"店面编号"}},[a("span",[e._v(e._s(t.row.fd_sf_ID))])]),e._v(" "),a("el-form-item",{attrs:{label:"分类编号"}},[a("span",[e._v(e._s(t.row.fd_sf_TypeID))])]),e._v(" "),a("el-form-item",{attrs:{label:"用餐人数"}},[a("span",[e._v(e._s(t.row.fd_py_MansName))])]),e._v(" "),a("el-form-item",{attrs:{label:"店面名称"}},[a("span",[e._v(e._s(t.row.fd_sf_ProductName))])]),e._v(" "),a("el-form-item",{attrs:{label:"店面类型"}},[a("span",[e._v(e._s(t.row.fd_py_Name))])]),e._v(" "),a("el-form-item",{attrs:{label:"地址描述"}},[a("span",[e._v(e._s(t.row.fd_sf_Address))])]),e._v(" "),a("el-form-item",{attrs:{label:"经度"}},[a("span",[e._v(e._s(t.row.fd_sf_Lng)+"°")])]),e._v(" "),a("el-form-item",{attrs:{label:"纬度"}},[a("span",[e._v(e._s(t.row.fd_sf_Lat)+"°")])]),e._v(" "),a("el-form-item",{attrs:{label:"省"}},[a("span",[e._v(e._s(t.row.fd_sf_Provice))])]),e._v(" "),a("el-form-item",{attrs:{label:"市"}},[a("span",[e._v(e._s(t.row.fd_sf_City))])]),e._v(" "),a("el-form-item",{attrs:{label:"人均价格"}},[a("span",[e._v(e._s(t.row.fd_sf_AvgPrice)+"元")])]),e._v(" "),a("el-form-item",{attrs:{label:"营业时间"}},[a("span",[e._v(e._s(t.row.fd_sf_OpenTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[a("span",[e._v(e._s(t.row.fd_sf_Phone))])]),e._v(" "),a("el-form-item",{attrs:{label:"是否有WAFI"}},[a("span",[e._v(e._s(t.row.fd_sf_HasWafi))])]),e._v(" "),a("el-form-item",{attrs:{label:"供应商编码"}},[a("span",[e._v(e._s(t.row.fd_sf_TradeID))])]),e._v(" "),a("el-form-item",{attrs:{label:"审核状态"}},[a("span",[e._v(e._s(t.row.fd_sf_PassStatus))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"店面名称",prop:"fd_sf_ProductName"}}),e._v(" "),a("el-table-column",{attrs:{label:"联系电话",prop:"fd_sf_Phone"}}),e._v(" "),a("el-table-column",{attrs:{label:"人均价格"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.fd_sf_AvgPrice)+"元\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.update(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.Delete(t.row.fd_sf_ID)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.recommendShop(t.row.fd_sf_ID)}}},[e._v("申请推荐店面")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{"text-align":"right"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total,expression:"total"}],attrs:{"page-size":5,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加店面信息",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-form",{attrs:{model:e.addOptions}},[a("el-form-item",{attrs:{label:"店面用餐类型:","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addOptions.fd_sf_TypeID,callback:function(t){e.$set(e.addOptions,"fd_sf_TypeID",t)},expression:"addOptions.fd_sf_TypeID"}},e._l(e.storefrontTypeList,function(e){return a("el-option",{key:e.propertyID,attrs:{label:e.propertyName,value:e.propertyID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"用餐人数:","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addOptions.fd_sf_MansID,callback:function(t){e.$set(e.addOptions,"fd_sf_MansID",t)},expression:"addOptions.fd_sf_MansID"}},e._l(e.numberOfMealsList,function(e){return a("el-option",{key:e.propertyID,attrs:{label:e.propertyName,value:e.propertyID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"店面名称:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addOptions.fd_sf_ProductName,callback:function(t){e.$set(e.addOptions,"fd_sf_ProductName",t)},expression:"addOptions.fd_sf_ProductName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址描述:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addOptions.fd_sf_Address,callback:function(t){e.$set(e.addOptions,"fd_sf_Address",t)},expression:"addOptions.fd_sf_Address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"经度:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addOptions.fd_sf_Lng,callback:function(t){e.$set(e.addOptions,"fd_sf_Lng",t)},expression:"addOptions.fd_sf_Lng"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"纬度:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addOptions.fd_sf_Lat,callback:function(t){e.$set(e.addOptions,"fd_sf_Lat",t)},expression:"addOptions.fd_sf_Lat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"省:","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeCity},model:{value:e.addOptions.fd_sf_Provice,callback:function(t){e.$set(e.addOptions,"fd_sf_Provice",t)},expression:"addOptions.fd_sf_Provice"}},e._l(e.foodProcinceList,function(e){return a("el-option",{key:e.sm_af_AreaID,attrs:{label:e.sm_af_AreaName,value:e.sm_af_AreaID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"市:","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addOptions.fd_sf_City,callback:function(t){e.$set(e.addOptions,"fd_sf_City",t)},expression:"addOptions.fd_sf_City"}},e._l(e.foodCityList,function(e){return a("el-option",{key:e.sm_af_AreaID,attrs:{label:e.sm_af_AreaName,value:e.sm_af_AreaID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"人均价格:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addOptions.fd_sf_AvgPrice,callback:function(t){e.$set(e.addOptions,"fd_sf_AvgPrice",t)},expression:"addOptions.fd_sf_AvgPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"营业时间:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addOptions.fd_sf_OpenTime,callback:function(t){e.$set(e.addOptions,"fd_sf_OpenTime",t)},expression:"addOptions.fd_sf_OpenTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.addOptions.fd_sf_Phone,callback:function(t){e.$set(e.addOptions,"fd_sf_Phone",t)},expression:"addOptions.fd_sf_Phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否有WAFI:","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addOptions.fd_sf_HasWafi,callback:function(t){e.$set(e.addOptions,"fd_sf_HasWafi",t)},expression:"addOptions.fd_sf_HasWafi"}},e._l(e.isWifi,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改店面信息",visible:e.updateDialog},on:{"update:visible":function(t){e.updateDialog=t}}},[a("el-form",{attrs:{model:e.updateObj}},[a("el-form-item",{attrs:{label:"店面用餐类型:","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateObj.fd_sf_TypeID,callback:function(t){e.$set(e.updateObj,"fd_sf_TypeID",t)},expression:"updateObj.fd_sf_TypeID"}},e._l(e.storefrontTypeList,function(e){return a("el-option",{key:e.propertyID,attrs:{label:e.propertyName,value:e.propertyID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"用餐人数:","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateObj.fd_sf_MansID,callback:function(t){e.$set(e.updateObj,"fd_sf_MansID",t)},expression:"updateObj.fd_sf_MansID"}},e._l(e.numberOfMealsList,function(e){return a("el-option",{key:e.propertyID,attrs:{label:e.propertyName,value:e.propertyID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"产品名称:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.updateObj.fd_sf_ProductName,callback:function(t){e.$set(e.updateObj,"fd_sf_ProductName",t)},expression:"updateObj.fd_sf_ProductName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址描述:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.updateObj.fd_sf_Address,callback:function(t){e.$set(e.updateObj,"fd_sf_Address",t)},expression:"updateObj.fd_sf_Address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"经度:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.updateObj.fd_sf_Lng,callback:function(t){e.$set(e.updateObj,"fd_sf_Lng",t)},expression:"updateObj.fd_sf_Lng"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"纬度:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.updateObj.fd_sf_Lat,callback:function(t){e.$set(e.updateObj,"fd_sf_Lat",t)},expression:"updateObj.fd_sf_Lat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"省:","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeCity},model:{value:e.updateObj.fd_sf_Provice,callback:function(t){e.$set(e.updateObj,"fd_sf_Provice",t)},expression:"updateObj.fd_sf_Provice"}},e._l(e.foodProcinceList,function(e){return a("el-option",{key:e.sm_af_AreaID,attrs:{label:e.sm_af_AreaName,value:e.sm_af_AreaName}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"市:","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateObj.fd_sf_City,callback:function(t){e.$set(e.updateObj,"fd_sf_City",t)},expression:"updateObj.fd_sf_City"}},e._l(e.foodCityList,function(e){return a("el-option",{key:e.sm_af_AreaID,attrs:{label:e.sm_af_AreaName,value:e.sm_af_AreaName}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"人均价格:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.updateObj.fd_sf_AvgPrice,callback:function(t){e.$set(e.updateObj,"fd_sf_AvgPrice",t)},expression:"updateObj.fd_sf_AvgPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"营业时间:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.updateObj.fd_sf_OpenTime,callback:function(t){e.$set(e.updateObj,"fd_sf_OpenTime",t)},expression:"updateObj.fd_sf_OpenTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话:","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.updateObj.fd_sf_Phone,callback:function(t){e.$set(e.updateObj,"fd_sf_Phone",t)},expression:"updateObj.fd_sf_Phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否有WAFI:","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.updateObj.fd_sf_HasWafi,callback:function(t){e.$set(e.updateObj,"fd_sf_HasWafi",t)},expression:"updateObj.fd_sf_HasWafi"}},e._l(e.isWifi,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.updateDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.updateSubmit}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]},l=a("VU/8")(o,i,!1,function(e){a("zxg6")},"data-v-646f6aa7",null);t.default=l.exports},zxg6:function(e,t){}});