webpackJsonp([24],{W3ZK:function(t,e){},nLto:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("//Fk"),o=a.n(i),n=a("NYxO"),r={computed:Object(n.b)(["adminProductLine","adminTradeGoodList","updateAdminQueryProductInformationObj","adminProductLineManagementId"]),name:"",data:function(){return{data:[{label:"商家产品",children:[{label:"产品线路",children:[{label:"产品线路出发城市"},{label:"产品线路价格"},{label:"产品线路特色"},{label:"产品线路日程",children:[{label:"日程时间",children:[{label:"时间活动",children:[{label:"活动用餐"},{label:"活动景点"},{label:"活动购物"},{label:"活动住宿"},{label:"活动温馨提示"},{label:"活动交通"}]}]}]},{label:"产品线路费用说明"}]}]}],defaultProps:{children:"children",label:"label"},isOff:!0,userID:"",userName:"",initSearch:"",isLoading:!1,addAdminQueryProductInformationDialog:!1,updateAdminQueryProductInformationDialog:!1,value:"",formLabelWidth:"120px",addOptions:{loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{ts_pt_GoodsListID:"",ts_pt_Name:"",ts_pt_Remark:""}}}},created:function(){var t=this.$route.query.lineID;t&&this.initData(t)},methods:{toMerch:function(){sessionStorage.setItem("index",0),this.$router.push({name:"AdminMerchantProducts"})},handleSelect:function(t){this.value=t.id,this.updateAdminQueryProductInformationObj.ts_pt_GoodsListID=t.id,this.userName=t.value,this.userID=t.id,this.initData(t.id)},loadAll:function(t,e){var a=this;return new o.a(function(t,i){var o=JSON.parse(sessionStorage.getItem("admin")),n={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",tradeID:o.sm_ai_ID?o.sm_ai_ID:"",goodTitle:e||"",userID:"",pcName:"",ID:"",isDelete:0,page:1,rows:20};a.$store.dispatch("initAdminTradeGoodList",n).then(function(e){t(e)},function(t){a.$notify({message:t,type:"error"})})})},querySearchAsync:function(t,e){var a=this;this.loadAll(1,t).then(function(t){t=(t=t.data).map(function(t){return{id:t.ta_tg_ID,value:t.ta_tg_Title}}),a.restaurants=t,clearTimeout(a.timeout),a.timeout=setTimeout(function(){e(a.restaurants)},10)})},initData:function(t){var e=this,a={loginUserID:"huileyou",loginUserPass:123,isDelete:0,goodID:t||""};this.isLoading=!0,this.$store.dispatch("initAdminProductLine",a).then(function(){e.isLoading=!1},function(t){e.$notify({message:t,type:"error"})})},search:function(){""!=this.value.trim()?(this.addOptions.data.ts_pt_GoodsListID=this.value,this.initData(this.value.trim())):this.$notify({message:"请选择对应产品!",type:"error"})},searchInitData:function(){this.adminProductLineManagementId&&this.initData(this.adminProductLineManagementId)},addAdminQueryProductInformation:function(){this.$store.commit("setTranstionFalse"),this.addAdminQueryProductInformationDialog=!0},addAdminQueryProductInformationSubmit:function(){var t=this;this.addOptions.data.ts_pt_GoodsListID=this.value,this.$store.dispatch("AddAdminQueryProductInformationSubmit",this.addOptions).then(function(){t.$notify({message:"添加成功!",type:"success"}),t.initData(t.value)},function(e){t.$notify({message:e,type:"error"})}),this.addAdminQueryProductInformationDialog=!1},updateAdminQueryProductInformation:function(t){this.updateAdminQueryProductInformationDialog=!0,this.$store.commit("setTranstionFalse"),this.$store.commit("initUpdateAdminQueryProductInformationObj",t)},updateAdminQueryProductInformationSubmit:function(){var t=this,e={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{ts_pt_ID:this.updateAdminQueryProductInformationObj.ts_pt_ID,ts_pt_GoodsListID:this.updateAdminQueryProductInformationObj.ts_pt_GoodsListID,ts_pt_Name:this.updateAdminQueryProductInformationObj.ts_pt_Name,ts_pt_Remark:this.updateAdminQueryProductInformationObj.ts_pt_Remark}};this.$store.dispatch("UpdateAdminQueryProductInformation",e).then(function(){t.$notify({message:"修改成功!",type:"success"}),t.initData(t.updateAdminQueryProductInformationObj.ts_pt_GoodsListID)},function(e){t.$notify({message:e,type:"error"})}),this.updateAdminQueryProductInformationDialog=!1},deleteAdminQueryProductInformation:function(t){var e=this,a={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",data:{ts_pt_ID:t}};this.$store.dispatch("DeleteAdminQueryProductInformation",a).then(function(){e.$notify({message:"删除成功!",type:"success"}),e.initData(e.value)},function(t){e.$notify({message:t,type:"error"})})},productCharacteristicManagement:function(t){this.$store.commit("adminProductCharacteristicManagementId",t),this.$router.push({name:"AdminProductFeatures"}),sessionStorage.setItem("index","3")},queryProductInformationDetail:function(t){this.$store.commit("adminLineScheduleManagementId",t),this.$router.push({name:"AdminQueryProductInformationList"}),sessionStorage.setItem("index","2")}},mounted:function(){this.searchInitData()}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"clearfix",attrs:{id:"wrap"}},[a("div",{staticStyle:{margin:"30px 0 0 20px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{staticStyle:{cursor:"pointer",color:"#000","font-weight":"bold"},nativeOn:{click:function(e){t.toMerch(e)}}},[t._v("商家产品")]),t._v(" "),a("el-breadcrumb-item",[t._v("产品线路")])],1)],1),t._v(" "),a("h1",{staticClass:"userClass"},[t._v("产品线路信息")]),t._v(" "),a("el-col",{staticClass:"formSearch",attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item"),t._v(" "),a("el-form-item",[a("span",[t._v("产品筛选:")])]),t._v(" "),a("el-form-item",[a("el-autocomplete",{staticStyle:{width:"250px"},attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请选择产品"},on:{select:t.handleSelect},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.addAdminQueryProductInformation}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:t.adminProductLine}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"线路编号"}},[a("span",[t._v(t._s(e.row.ts_pt_ID))])]),t._v(" "),a("el-form-item",{attrs:{label:"产品编号"}},[a("span",[t._v(t._s(e.row.ts_pt_GoodsListID))])]),t._v(" "),a("el-form-item",{attrs:{label:"行程名称"}},[a("span",[t._v(t._s(e.row.ts_pt_Name))])]),t._v(" "),a("el-form-item",{attrs:{label:"是否删除"}},[a("span",[t._v(t._s(0==e.row.ts_pt_IsDelete?"未删除":"已删除"))])]),t._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("span",[t._v(t._s(e.row.ts_pt_Remark))])])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"线路编号",prop:"ts_pt_ID"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"产品编号",prop:"ts_pt_GoodsListID"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"行程名称",prop:"ts_pt_Name"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.updateAdminQueryProductInformation(e.row.ts_pt_ID)}}},[t._v("修改\n          ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.deleteAdminQueryProductInformation(e.row.ts_pt_ID)}}},[t._v("删除\n          ")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.queryProductInformationDetail(e.row.ts_pt_ID)}}},[t._v("\n            产品线路详情\n          ")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"添加线路",visible:t.addAdminQueryProductInformationDialog},on:{"update:visible":function(e){t.addAdminQueryProductInformationDialog=e}}},[a("el-form",{attrs:{model:t.addOptions}},[a("el-form-item",{attrs:{label:"产品名称:","label-width":t.formLabelWidth}},[a("el-autocomplete",{attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请选择产品"},on:{select:t.handleSelect},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"线路名称:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入线路名称"},model:{value:t.addOptions.data.ts_pt_Name,callback:function(e){t.$set(t.addOptions.data,"ts_pt_Name",e)},expression:"addOptions.data.ts_pt_Name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容",type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:t.addOptions.data.ts_pt_Remark,callback:function(e){t.$set(t.addOptions.data,"ts_pt_Remark",e)},expression:"addOptions.data.ts_pt_Remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addAdminQueryProductInformationDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addAdminQueryProductInformationSubmit}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"修改线路",visible:t.updateAdminQueryProductInformationDialog},on:{"update:visible":function(e){t.updateAdminQueryProductInformationDialog=e}}},[a("el-form",{attrs:{model:t.updateAdminQueryProductInformationObj}},[a("el-form-item",{attrs:{label:"产品名称:","label-width":t.formLabelWidth}},[a("el-autocomplete",{attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:"请选择产品"},on:{select:t.handleSelect},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"线路名称:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入线路名称"},model:{value:t.updateAdminQueryProductInformationObj.ts_pt_Name,callback:function(e){t.$set(t.updateAdminQueryProductInformationObj,"ts_pt_Name",e)},expression:"updateAdminQueryProductInformationObj.ts_pt_Name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注:","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容",type:"textarea",autosize:{minRows:6,maxRows:10}},model:{value:t.updateAdminQueryProductInformationObj.ts_pt_Remark,callback:function(e){t.$set(t.updateAdminQueryProductInformationObj,"ts_pt_Remark",e)},expression:"updateAdminQueryProductInformationObj.ts_pt_Remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.updateAdminQueryProductInformationDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.updateAdminQueryProductInformationSubmit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]},l=a("VU/8")(r,s,!1,function(t){a("W3ZK")},null,null);e.default=l.exports}});