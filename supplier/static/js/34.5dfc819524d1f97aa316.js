webpackJsonp([34],{"3WPS":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("NYxO"),o={computed:Object(r.b)(["foodStoreConfirnOrderList"]),data:function(){return{userInfo:{},payState:[{value:0,label:"未支付"},{value:1,label:"已支付"}],outStatus:[{value:0,label:"未出票"},{value:1,label:"已出票"}],outStatusId:"",payStateId:"",total:0}},methods:{handleCurrentChange:function(e){this.initData(this.outStatusId,this.payStateId,e)},initData:function(e,t,a){var r=this,o={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",fd_or_OrderID:"",fd_or_UserID:"",fd_or_UserName:"",priceFrom:"",priceTo:"",fd_or_TouristTraderID:this.userInfo.sm_ai_ID,fd_or_Password:"",fd_or_OutStatus:e,fd_or_Phone:"",useTimeFrom:"",useTimeTo:"",createTimeFrom:"",createTimeTo:"",payTimeFrom:"",payTimeTo:"",fd_or_PayWay:"",fd_or_PayState:t,fd_or_UseState:"",fd_or_IsDelete:"",rows:5,page:a||1};this.$store.dispatch("initFoodStoreConfirnOrder",o).then(function(e){r.total=e},function(e){r.$notify({message:e,type:"error"})})},search:function(){this.initData(this.outStatusId,this.payStateId)},orderOk:function(e){var t=this,a={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"",operateUserName:"",pcName:"",orderID:e||""};this.$store.dispatch("foodOrderOk",a).then(function(e){t.$notify({message:e,type:"success"}),t.initData(t.outStatusId,t.payStateId)},function(e){t.$notify({message:e,type:"error"})})},Delete:function(e){var t=this,a={loginUserID:"huileyou",loginUserPass:"123",operateUserID:"2",operateUserName:"",pcName:"",orderID:e||""};this.$store.dispatch("deleteFoodStoreConfirnOrder",a).then(function(e){t.$notify({message:e,type:"success"}),t.initData()},function(e){t.$notify({message:e,type:"error"})})}},created:function(){this.userInfo=JSON.parse(sessionStorage.getItem("admin")),this.initData()}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"clearfix",attrs:{id:"wrap"}},[a("h1",{staticClass:"userClass"},[e._v("订单管理")]),e._v(" "),a("el-col",{staticClass:"formSearch",attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("span",[e._v("选择筛选:")])]),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择出票状态"},model:{value:e.outStatusId,callback:function(t){e.outStatusId=t},expression:"outStatusId"}},e._l(e.outStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择支付状态"},model:{value:e.payStateId,callback:function(t){e.payStateId=t},expression:"payStateId"}},e._l(e.payState,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.foodStoreConfirnOrderList}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"用户编码:"}},[a("span",[e._v(e._s(t.row.fd_or_UserID))])]),e._v(" "),a("el-form-item",{attrs:{label:"用户名称:"}},[a("span",[e._v(e._s(t.row.fd_or_UserName))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号:"}},[a("span",[e._v(e._s(t.row.fd_or_Phone))])]),e._v(" "),a("el-form-item",{attrs:{label:"总价格:"}},[a("span",[e._v(e._s(t.row.fd_or_SumPrice)+"元")])]),e._v(" "),a("el-form-item",{attrs:{label:"人数:"}},[a("span",[e._v(e._s(t.row.fd_or_TicketCount)+"人")])]),e._v(" "),a("el-form-item",{attrs:{label:"提前提醒时间:"}},[a("span",[e._v(e._s(t.row.fd_or_BeforeNotice))])]),e._v(" "),a("el-form-item",{attrs:{label:"创建时间:"}},[a("span",[e._v(e._s(t.row.fd_or_CreateTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"订单编码:"}},[a("span",[e._v(e._s(t.row.fd_or_OrderID))])]),e._v(" "),a("el-form-item",{attrs:{label:"出票状态:"}},[a("span",[e._v(e._s(e._f("getOutStatus")(t.row.fd_or_OutStatus)))])]),e._v(" "),a("el-form-item",{attrs:{label:"凭证码:"}},[a("span",[e._v(e._s(t.row.fd_or_Password))])]),e._v(" "),a("el-form-item",{attrs:{label:"订单状态:"}},[a("span",[e._v(e._s(e._f("payStatus")(t.row.fd_or_PayState)))])]),e._v(" "),a("el-form-item",{attrs:{label:"支付时间:"}},[a("span",[e._v(e._s(t.row.fd_or_PayTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"支付方式:"}},[a("span",[e._v(e._s(t.row.fd_or_PayWay))])]),e._v(" "),a("el-form-item",{attrs:{label:"餐桌编号:"}},[a("span",[e._v(e._s(t.row.fd_or_TableID))])]),e._v(" "),a("el-form-item",{attrs:{label:"使用状态:"}},[a("span",[e._v(e._s(e._f("useStatus")(t.row.fd_or_UseState)))])]),e._v(" "),a("el-form-item",{attrs:{label:"使用时间:"}},[a("span",[e._v(e._s(t.row.fd_or_UseTime))])]),e._v(" "),a("el-form-item",{attrs:{label:"备注:"}},[a("span",[e._v(e._s(t.row.fd_or_Remark))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"fd_or_UserName"}}),e._v(" "),a("el-table-column",{attrs:{label:"人数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.fd_or_TicketCount?t.row.fd_or_TicketCount+"人":"")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"订单状态",align:"center",prop:"fd_or_PayState"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("payStatus")(t.row.fd_or_PayState))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"出票状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("getOutStatus")(t.row.fd_or_OutStatus))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"餐桌编号",align:"center",prop:"fd_or_TableID"}}),e._v(" "),a("el-table-column",{attrs:{label:"总价格",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.fd_or_SumPrice?t.row.fd_or_SumPrice+"元":"")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.row.fd_or_OutStatus,expression:"!scope.row.fd_or_OutStatus"}],attrs:{type:"success",size:"mini"},on:{click:function(a){e.orderOk(t.row.fd_or_OrderID)}}},[e._v("确认订单\n          ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.Delete(t.row.fd_or_OrderID)}}},[e._v("注销订单\n          ")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{"text-align":"right"}},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total,expression:"total"}],attrs:{"page-size":5,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]},l=a("VU/8")(o,s,!1,function(e){a("w2m0")},"data-v-5211bb96",null);t.default=l.exports},w2m0:function(e,t){}});